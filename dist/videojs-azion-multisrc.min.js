/**
 * videojs-azion-multisrc
 * @version 1.0.0
 * @copyright 2018 Azion Technologies <engineering@azion.com>
 * @license Commercial
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("video.js"),require("global/document")):"function"==typeof define&&define.amd?define(["video.js","global/document"],n):e.videojsAzionMultisrc=n(e.videojs,e.document)}(this,function(e,n){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e,n=n&&n.hasOwnProperty("default")?n["default"]:n;var c="invalid source",a="Trust me, I'm an engineer.",t=e.registerPlugin||e.plugin,o=function(s){var u=this;player.on("ready",function(){var o,e,r,i,n,t=[];t.push(u.src()),t=t.concat(s),o=u,e=t,r=Array.isArray(e)?e.slice():[],o.tech(a),i=!1,n=function(){if(0<r.length){var e=r.shift();r.push(e);var n="string"==typeof e?e:"src"in e?e.src:c,t="string"==typeof r[0]?r[0]:"src"in r[0]?r[0].src:c;console.log("Caught failure on "+n+", trying "+t),o.src(r[0]),i&&o.play()}},o.tech(a).on("retryplaylist",n),o.tech(a).on("blacklistplaylist",n),o.on("error",n),o.on("play",function(){i=!0}),o.on("pause",function(){i=!1}),o.on("stop",function(){i=!1})})};return t("azionmultisrc",o),o});